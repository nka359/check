<!DOCTYPE html>
<!-- saved from url=(0042)file:///C:/Users/Admin/Downloads/yoyo.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width,initial-scale=1">
<title>EcoFuture — Sustainable Energy Missions</title>
<meta name="description" content="EcoFuture — student project: missions to promote sustainable &amp; affordable energy (generation, storage, transportation, utilization).">
<style>
  /* ---------- Variables ---------- */
  :root{
    --bg:#071617;
    --panel: rgba(255,255,255,0.03);
    --glass: rgba(255,255,255,0.04);
    --muted: #9fbfb0;
    --accent-1: #14d18c; /* bright green */
    --accent-2: #11a86a; /* darker green */
    --accent-glow: 0 6px 30px rgba(20,209,140,0.14);
    --card-shadow: 0 14px 40px rgba(2,40,28,0.35);
    --white: #eaf9f0;
    --glass-border: 1px solid rgba(255,255,255,0.04);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI","Roboto","Poppins",sans-serif;background:var(--bg);color:var(--white);-webkit-font-smoothing:antialiased}
  a{color:inherit}
  img{max-width:100%;display:block}

  /* ---------- background canvas ---------- */
  canvas#bg-orbs{position:fixed;inset:0;z-index:-2;pointer-events:none}
  canvas#confetti{position:fixed;inset:0;z-index:60;pointer-events:none;display:none}

  /* ---------- header / nav ---------- */
  header.topbar{
    position:fixed;left:0;right:0;top:0;height:70px;display:flex;align-items:center;justify-content:space-between;padding:12px 22px;
    background:linear-gradient(180deg, rgba(0,0,0,0.35), rgba(0,0,0,0.25));
    backdrop-filter: blur(6px); z-index:50; border-bottom:1px solid rgba(255,255,255,0.03)
  }
  .brand{display:flex;gap:12px;align-items:center}
  .logo {
    width:52px;height:52px;border-radius:12px;background:linear-gradient(180deg,var(--accent-1),var(--accent-2));display:flex;align-items:center;justify-content:center;font-weight:800;color:#062b1f;box-shadow:0 8px 26px rgba(11,209,140,0.08)
  }
  .brand .title{font-weight:800;line-height:1;color:var(--white);font-size:18px}
  nav.main{display:flex;gap:10px;align-items:center}
  nav.main a{padding:8px 12px;border-radius:8px;color:rgba(255,255,255,0.9);text-decoration:none;font-weight:700}
  nav.main a.active{background:rgba(255,255,255,0.03);box-shadow:inset 0 -2px 0 rgba(255,255,255,0.02)}
  .header-actions{display:flex;gap:8px;align-items:center}
  .pill{background:rgba(255,255,255,0.03);padding:6px 10px;border-radius:999px;font-weight:700;color:var(--muted);font-size:13px}

  /* ---------- app container ---------- */
  main.app{max-width:1100px;margin:110px auto;padding:0 18px;min-height:60vh}

  /* ---------- page transitions (screens) ---------- */
  .screen{display:none;opacity:0;transform:translateY(6px);transition:opacity .34s ease, transform .34s ease}
  .screen.active{display:block;opacity:1;transform:none}

  /* ---------- hero ---------- */
  .hero {
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:14px;padding:28px;border:var(--glass-border);box-shadow:var(--card-shadow);
  }
  .hero h1{margin:0;font-size:28px;color:var(--accent-1);text-shadow:0 0 12px rgba(20,209,140,0.06)}
  .hero p{color:var(--muted);margin-top:12px;line-height:1.6;font-size:15px}
  .hero .home-grid{display:grid;grid-template-columns:1fr 340px;gap:18px;margin-top:18px;align-items:start}

  /* ---------- info cards ---------- */
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px}
  .card{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    padding:14px;border-radius:12px;border:var(--glass-border);box-shadow:0 10px 30px rgba(2,40,28,0.06)
  }
  .card h3{margin:0;color:var(--accent-1)}
  .card p{color:var(--muted);margin-top:8px;line-height:1.5}

  /* ---------- Missions screen ---------- */
  .missions-top{display:flex;gap:12px;align-items:center;justify-content:space-between}
  .missions-top .filters{display:flex;gap:8px;align-items:center}
  .missions-list{margin-top:14px;display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:16px}
  .mission-card{
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:12px;padding:12px;border:var(--glass-border);display:flex;flex-direction:column;gap:10px;box-shadow:0 12px 36px rgba(2,40,28,0.06);
    transition:transform .28s ease, box-shadow .28s ease;
    position:relative;
  }
  .mission-card:hover{transform:translateY(-6px);box-shadow:0 24px 60px rgba(2,40,28,0.08)}
  .mission-card img{width:100%;height:160px;object-fit:cover;border-radius:8px;background:#072421}
  .mission-meta{display:flex;justify-content:space-between;align-items:center;gap:12px}
  .mission-meta .tag{background:rgba(18,209,140,0.08);padding:6px 8px;border-radius:10px;color:var(--accent-1);font-weight:800;font-size:13px}
  .mission-card h4{margin:0;color:var(--white)}
  .mission-card p{color:var(--muted);font-size:14px}
  .mission-actions{display:flex;gap:8px;margin-top:auto}
  .btn{background:linear-gradient(90deg,var(--accent-1),var(--accent-2));border:0;color:#062b1f;padding:9px 12px;border-radius:10px;font-weight:800;cursor:pointer;box-shadow:var(--accent-glow)}
  .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--white)}
  .btn.small{padding:6px 8px;font-weight:700}

  /* completed glow / badge */
  .mission-card.completed{border:1px solid rgba(20,209,140,0.12);box-shadow:0 22px 60px rgba(11,209,140,0.08);transform:scale(1.03)}
  .completed-badge{position:absolute;right:12px;top:12px;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));color:#062b1f;padding:6px 8px;border-radius:8px;font-weight:800;box-shadow:var(--accent-glow)}

  /* mission detail overlay */
  .overlay{
    position:fixed;inset:0;z-index:70;display:none;align-items:center;justify-content:center;padding:20px;background:linear-gradient(180deg, rgba(2,8,6,0.6), rgba(2,8,6,0.8));
  }
  .overlay.open{display:flex}
  .overlay .detail{
    width:100%;max-width:980px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:var(--glass-border);box-shadow:var(--card-shadow);position:relative
  }
  .detail .left{width:48%;float:left;padding-right:14px}
  .detail .right{width:52%;float:right;padding-left:14px}
  .detail img{width:100%;height:320px;object-fit:cover;border-radius:10px}
  .detail h3{margin:0;color:var(--accent-1)}
  .detail p{color:var(--muted);line-height:1.6}

  /* clear floats */
  .cf{clear:both}

  /* ---------- Report screen ---------- */
  .report-grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
  .progress-large{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:16px;border-radius:12px;border:var(--glass-border)}
  .progress-bar{height:16px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden}
  .progress-bar > i{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--accent-1),var(--accent-2))}

  /* ---------- Reviews & Contact ---------- */
  .reviews-list{display:flex;flex-direction:column;gap:12px}
  .review-item{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:12px;border-radius:10px;border:var(--glass-border)}
  .contact-form{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .contact-form textarea{grid-column:1/ -1}

  /* ---------- page arrow ---------- */
  .page-arrow{position:fixed;right:22px;bottom:22px;background:rgba(255,255,255,0.06);width:56px;height:56px;border-radius:999px;display:flex;align-items:center;justify-content:center;z-index:40;border:1px solid rgba(255,255,255,0.04)}
  .page-arrow a{color:var(--white);font-size:22px;text-decoration:none}

  /* ---------- footer ---------- */
  footer.sitefoot{margin-top:28px;padding:18px;text-align:center;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:var(--glass-border)}

  /* ---------- responsive ---------- */
  @media (max-width:980px){
    .hero .home-grid{grid-template-columns:1fr}
    .detail .left, .detail .right{width:100%;float:none;padding:0}
    .report-grid{grid-template-columns:1fr}
    .contact-form{grid-template-columns:1fr}
    .mission-card img{height:180px}
  }
</style>
</head>
<body>

<!-- Background orbs canvas -->
<canvas id="bg-orbs" aria-hidden="" width="1432" height="782"></canvas>
<!-- Confetti canvas -->
<canvas id="confetti" aria-hidden="" width="1432" height="782"></canvas>

<!-- Header -->
<header class="topbar" role="banner">
  <div class="brand">
    <div class="logo" aria-hidden="">
      <!-- simple svg mark inside -->
      <svg width="36" height="36" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" style="border-radius:8px">
        <rect width="48" height="48" rx="10" fill="#14d18c"></rect>
        <path d="M24 12c-6 0-10 4-10 10s4 10 10 10 10-4 10-10-4-10-10-10z" fill="#052b1e" opacity="0.08"></path>
        <path d="M23 16a1 1 0 0 1 2 0v8l4 2a1 1 0 1 1-.86 1.8L25.5 25.1V16z" fill="#052b1e"></path>
      </svg>
    </div>
    <div>
      <div class="title">EcoFuture</div>
      <div style="font-size:12px;color:var(--muted)">Sustainable &amp; Affordable Energy</div>
    </div>
  </div>

  <nav class="main" role="navigation" aria-label="Main navigation">
    <a href="file:///C:/Users/Admin/Downloads/yoyo.html#" data-screen="home" class="nav-link active">Home</a>
    <a href="file:///C:/Users/Admin/Downloads/yoyo.html#" data-screen="missions" class="nav-link">Missions</a>
    <a href="file:///C:/Users/Admin/Downloads/yoyo.html#" data-screen="report" class="nav-link">Report</a>
    <a href="file:///C:/Users/Admin/Downloads/yoyo.html#" data-screen="reviews" class="nav-link">Reviews</a>
    <a href="file:///C:/Users/Admin/Downloads/yoyo.html#" data-screen="contact" class="nav-link">Contact</a>
  </nav>

  <div class="header-actions">
    <div class="pill" id="progress-pill">0 / 11</div>
  </div>
</header>

<!-- App container -->
<main class="app" role="main">

  <!-- HOME SCREEN -->
  <section id="screen-home" class="screen active" aria-labelledby="home-title">
    <div class="hero">
      <h1 id="home-title">EcoFuture — Powering a Sustainable Tomorrow</h1>
      <p>EcoFuture is a student-led project that helps communities adopt sustainable, affordable energy. We break big solutions into practical missions that students and families can complete: install a solar demo, build storage models, promote electric transport, and teach energy-efficiency. Each mission includes steps, evidence options, and clear impact metrics so you can show judges and the community your results.</p>

      <div class="home-grid" style="margin-top:18px">
        <div>
          <div class="card">
            <h3>How we help people use sustainable energy</h3>
            <p><strong>Hands-on demos:</strong> Small solar kits, micro wind models, and battery rigs that students can assemble to learn by doing.<br>
               <strong>Training &amp; outreach:</strong> Short workshops and posters that explain benefits and low-cost steps to adopt renewables.<br>
               <strong>Affordable choices:</strong> LED retrofits, community battery sharing, and micro-solar where full rooftop systems aren’t possible.<br>
               <strong>Measurement &amp; reporting:</strong> Missions include evidence collection (photos, links) and we track progress in the Report page for judges and presentations.</p>
          </div>

          <div class="card" style="margin-top:12px">
            <h3>Our Goals (detailed)</h3>
            <p><strong>1. Generation:</strong> Promote solar, wind, and micro-hydro projects tailored to local resources. Teach basic sizing and orientation for solar panels and small turbines.<br>
               <strong>2. Storage:</strong> Explain and demonstrate battery systems, pumped-hydro concepts, and hydrogen basics. Provide safe, low-cost storage examples.<br>
               <strong>3. Transportation:</strong> Support electric vehicles, shared mobility, and efficient logistics that lower carbon footprints.<br>
               <strong>4. Utilization:</strong> Encourage efficient appliances, LED lighting, demand-awareness, and behavioral changes that reduce overall energy demand.</p>
          </div>
        </div>

        <aside style="width:100%;max-width:340px">
          <div class="card" style="text-align:center">
            <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1509395062183-67c5ad6faff9" alt="Solar and wind" loading="lazy" style="height:200px;object-fit:cover;border-radius:8px">
            <h3 style="margin-top:10px">Start a mission today</h3>
            <p style="color:var(--muted)">Click <strong>Missions</strong> in the top menu and begin — each mission shows steps, materials, and evidence options.</p>
            <div style="margin-top:10px;display:flex;gap:8px;justify-content:center">
              <button class="btn" data-goto="missions">Go to Missions</button>
              <button class="btn ghost" data-goto="report">View Report</button>
            </div>
          </div>

          <div class="card" style="margin-top:12px;text-align:left">
            <h3>Team</h3>
            <p style="color:var(--muted)">Ritiksha • Anshika • Kavya • Kavyashree</p>
            <p style="color:var(--muted);font-size:13px;margin-top:8px">Tip: judges can open the Report page and print the progress summary for scoring.</p>
          </div>
        </aside>
      </div>
    </div>
  </section>

  <!-- MISSIONS SCREEN -->
  <section id="screen-missions" class="screen" aria-labelledby="missions-title">
    <div class="missions-top">
      <div>
        <h2 id="missions-title" style="color:var(--accent-1)">Missions — Practical Steps &amp; Evidence</h2>
        <p style="color:var(--muted)">Each mission below includes an overview, required materials (if any), step-by-step guidance, and evidence options (photo / link / short note). Click <strong>Details</strong> to open a mission in full view.</p>
      </div>
      <div class="filters">
        <select id="filterCategory" style="background:transparent;border:1px solid rgba(255,255,255,0.04);padding:8px;border-radius:8px;color:var(--white)"><option value="All">All</option><option value="Generation">Generation</option><option value="Storage">Storage</option><option value="Transportation">Transportation</option><option value="Utilization">Utilization</option><option value="Bonus">Bonus</option></select>
        <button class="btn ghost small" id="resetProgress">Reset Progress</button>
      </div>
    </div>

    <div id="missionsGrid" class="missions-list" style="margin-top:14px"><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1509395062183-67c5ad6faff9(1)" loading="lazy" alt="Install a rooftop/mini solar demo">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Generation</div></div>
          <h4 style="margin-top:8px">Install a rooftop/mini solar demo</h4>
          <p>Set up a small solar panel or a model rooftop panel. Explain orientation, tilt, and how sunlight is converted to electricity.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="gen-solar-rooftop">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="gen-solar-rooftop">Mark Complete</button>
      </div>
      
    </div><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1509395176047-4a66953fd231" loading="lazy" alt="Build a small wind-turbine demo">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Generation</div></div>
          <h4 style="margin-top:8px">Build a small wind-turbine demo</h4>
          <p>Assemble a small wind turbine model or show an existing wind installation nearby. Explain blades, generator, and how kinetic energy becomes electricity.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="gen-wind-small">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="gen-wind-small">Mark Complete</button>
      </div>
      
    </div><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1504198453319-5ce911bafcde" loading="lazy" alt="Hydropower model or explanation">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Generation</div></div>
          <h4 style="margin-top:8px">Hydropower model or explanation</h4>
          <p>Create a small model showing water flow turning a turbine or make a poster explaining hydropower dams and run-of-river projects.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="gen-hydro-model">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="gen-hydro-model">Mark Complete</button>
      </div>
      
    </div><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1624537837759-8f92ec72f4d5" loading="lazy" alt="Setup a battery storage demo">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Storage</div></div>
          <h4 style="margin-top:8px">Setup a battery storage demo</h4>
          <p>Show how batteries store energy. Use small lithium-ion modules or a simple battery bank to demonstrate charging and discharging.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="store-battery-demo">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="store-battery-demo">Mark Complete</button>
      </div>
      
    </div><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1529333166437-7750a6dd5a70" loading="lazy" alt="Explain pumped-hydro or hydrogen storage">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Storage</div></div>
          <h4 style="margin-top:8px">Explain pumped-hydro or hydrogen storage</h4>
          <p>Create a poster or model that explains pumped-hydro storage or hydrogen storage — the concept and where it’s useful.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="store-pumped-hydro">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="store-pumped-hydro">Mark Complete</button>
      </div>
      
    </div><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1611798740601-3d3b3885e6b0" loading="lazy" alt="Design a smart-grid poster or demo">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Transportation</div></div>
          <h4 style="margin-top:8px">Design a smart-grid poster or demo</h4>
          <p>Create a visual explaining smart grids, demand-response, and how digital control improves efficiency.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="trans-smartgrid">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="trans-smartgrid">Mark Complete</button>
      </div>
      
    </div><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1611944212129-29977ae1398c" loading="lazy" alt="Demonstrate electric vehicle charging">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Transportation</div></div>
          <h4 style="margin-top:8px">Demonstrate electric vehicle charging</h4>
          <p>Show an EV charging setup or explain the differences between fast and slow charging and the benefits of electric transport.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="trans-ev-demo">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="trans-ev-demo">Mark Complete</button>
      </div>
      
    </div><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1606228281416-1d58e0a3c6a3" loading="lazy" alt="Switch to LED &amp; efficient appliances">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Utilization</div></div>
          <h4 style="margin-top:8px">Switch to LED &amp; efficient appliances</h4>
          <p>Replace incandescent bulbs with LEDs in a room or propose efficient appliances for a home. Show before/after energy use if possible.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="util-led-retrofit">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="util-led-retrofit">Mark Complete</button>
      </div>
      
    </div><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1576765607924-bc3df37b42c4" loading="lazy" alt="Host a community energy workshop">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Utilization</div></div>
          <h4 style="margin-top:8px">Host a community energy workshop</h4>
          <p>Organize a short workshop teaching energy-saving tips and renewable basics to neighbors or a class.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="util-workshop">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="util-workshop">Mark Complete</button>
      </div>
      
    </div><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1581090700227-1e37b190418e" loading="lazy" alt="Community battery sharing pilot (proposal)">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Bonus</div></div>
          <h4 style="margin-top:8px">Community battery sharing pilot (proposal)</h4>
          <p>Design a small community battery sharing plan for a street or block — show costs, benefits, and simple governance.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="bonus-battery-share">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="bonus-battery-share">Mark Complete</button>
      </div>
      
    </div><div class="mission-card">
      <img src="./EcoFuture — Sustainable Energy Missions_files/photo-1542223616-163d09a65372" loading="lazy" alt="LED street retrofit proposal">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">Bonus</div></div>
          <h4 style="margin-top:8px">LED street retrofit proposal</h4>
          <p>Create a plan to retrofit a set of streetlights to LED: savings estimate, simple timeline, and stakeholder list.</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="bonus-led-street">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="bonus-led-street">Mark Complete</button>
      </div>
      
    </div></div>

    <div style="margin-top:18px" class="card">
      <h3>Add a custom mission</h3>
      <div style="margin-top:10px;display:flex;gap:8px;flex-wrap:wrap">
        <input id="customTitle" placeholder="Mission title (e.g. Install 5 LED streetlights)" style="flex:1;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--white)">
        <input id="customImg" placeholder="Image URL (optional)" style="flex:1;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--white)">
        <button class="btn" id="createCustom">Add Mission</button>
      </div>
      <div style="color:var(--muted);margin-top:8px">Custom missions appear here and are saved to this browser for your team.</div>
    </div>
  </section>

  <!-- REPORT SCREEN -->
  <section id="screen-report" class="screen" aria-labelledby="report-title">
    <h2 id="report-title" style="color:var(--accent-1)">Report — Team Progress</h2>
    <p style="color:var(--muted)">This page summarizes completed missions, shows category breakdown, and lists recent activity. Use <strong>Print</strong> (browser) to create a PDF for judges.</p>

    <div style="margin-top:14px" class="report-grid">
      <div class="progress-large">
        <h3 style="margin:0">Overall Progress</h3>
        <div style="display:flex;gap:12px;align-items:center;margin-top:12px">
          <div style="flex:1">
            <div class="progress-bar"><i id="reportBar" style="width:0%"></i></div>
            <div style="margin-top:8px;color:var(--muted)"><strong id="reportStats">0 / 11 completed (0%)</strong></div>
          </div>
          <div style="min-width:140px;text-align:right">
            <button class="btn" id="printReport">Print</button>
            <button class="btn ghost" id="exportJSON">Export</button>
          </div>
        </div>
      </div>

      <div class="report-large card">
        <h3 style="margin:0">Recent Activity</h3>
        <div id="recentActivity" style="margin-top:12px;max-height:320px;overflow:auto"></div>
      </div>

    </div>

    <div style="margin-top:18px">
      <h3>Breakdown by Category</h3>
      <div id="byCategory" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px;margin-top:10px"><div class="card"><h3 style="margin:0">Generation</h3><div style="color:var(--muted);margin-top:6px">0 / 3 completed</div><div class="progress-bar" style="margin-top:8px"><i style="width:0%"></i></div></div><div class="card"><h3 style="margin:0">Storage</h3><div style="color:var(--muted);margin-top:6px">0 / 2 completed</div><div class="progress-bar" style="margin-top:8px"><i style="width:0%"></i></div></div><div class="card"><h3 style="margin:0">Transportation</h3><div style="color:var(--muted);margin-top:6px">0 / 2 completed</div><div class="progress-bar" style="margin-top:8px"><i style="width:0%"></i></div></div><div class="card"><h3 style="margin:0">Utilization</h3><div style="color:var(--muted);margin-top:6px">0 / 2 completed</div><div class="progress-bar" style="margin-top:8px"><i style="width:0%"></i></div></div><div class="card"><h3 style="margin:0">Bonus</h3><div style="color:var(--muted);margin-top:6px">0 / 2 completed</div><div class="progress-bar" style="margin-top:8px"><i style="width:0%"></i></div></div></div>
    </div>
  </section>

  <!-- REVIEWS SCREEN -->
  <section id="screen-reviews" class="screen" aria-labelledby="reviews-title">
    <h2 id="reviews-title" style="color:var(--accent-1)">Reviews &amp; Feedback</h2>
    <p style="color:var(--muted)">Visitors and judges can leave feedback here. Reviews are saved locally so you can show them during presentation.</p>

    <div style="margin-top:12px" class="grid">
      <div class="card">
        <h3>Leave a review</h3>
        <div style="margin-top:8px;display:flex;flex-direction:column;gap:8px">
          <input id="rname" placeholder="Your name" style="padding:8px;background:transparent;border-radius:8px;border:1px solid rgba(255,255,255,0.04);color:var(--white)">
          <textarea id="rtext" placeholder="What did you like? Suggestions?" style="padding:10px;background:transparent;border-radius:8px;border:1px solid rgba(255,255,255,0.04);color:var(--white)"></textarea>
          <div style="display:flex;gap:8px;justify-content:flex-end">
            <button class="btn" id="submitReview">Submit</button>
            <button class="btn ghost" id="clearReviews">Clear</button>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>Visitor reviews</h3>
        <div id="reviewsList" style="margin-top:10px;display:flex;flex-direction:column;gap:10px;max-height:320px;overflow:auto"></div>
      </div>
    </div>
  </section>

  <!-- CONTACT SCREEN -->
  <section id="screen-contact" class="screen" aria-labelledby="contact-title">
    <h2 id="contact-title" style="color:var(--accent-1)">Contact the Team</h2>
    <p style="color:var(--muted)">Send a message to the project team. Messages are saved locally (for presentations) — teachers can export them on request.</p>

    <div style="margin-top:12px" class="card contact-form">
      <input id="cname" placeholder="Your name" style="padding:10px;background:transparent;border-radius:8px;border:1px solid rgba(255,255,255,0.04);color:var(--white)">
      <input id="cemail" placeholder="Email" style="padding:10px;background:transparent;border-radius:8px;border:1px solid rgba(255,255,255,0.04);color:var(--white)">
      <textarea id="cmsg" placeholder="Message" style="padding:10px;background:transparent;border-radius:8px;border:1px solid rgba(255,255,255,0.04);color:var(--white)"></textarea>
      <div style="display:flex;gap:8px;justify-content:flex-end">
        <button class="btn" id="contactSend">Send</button>
        <button class="btn ghost" id="clearContacts">Clear Local Data</button>
      </div>
    </div>
  </section>

</main>

<!-- page arrow (go to next screen) -->
<div class="page-arrow" title="Next screen"><a href="file:///C:/Users/Admin/Downloads/yoyo.html#" id="pageArrow" aria-hidden="" data-target="missions">➜</a></div>

<footer class="sitefoot">
  <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
    <div>Made with ♻️ by <strong>Ritiksha • Anshika • Kavya • Kavyashree</strong></div>
    <div style="color:var(--muted);font-size:13px">Works in any modern browser — images load from Unsplash</div>
  </div>
</footer>

<!-- Mission detail overlay -->
<div class="overlay" id="overlay">
  <div class="detail" role="dialog" aria-modal="true" aria-labelledby="detailTitle">
    <button class="btn ghost" id="closeOverlay" style="position:absolute;right:12px;top:12px">Close</button>
    <div class="left">
      <img id="detailImg" src="file:///C:/Users/Admin/Downloads/yoyo.html" alt="">
    </div>
    <div class="right">
      <h3 id="detailTitle"></h3>
      <div style="color:var(--muted);margin-top:8px" id="detailCat"></div>
      <p id="detailDesc" style="margin-top:10px;color:var(--muted)"></p>

      <div style="margin-top:12px">
        <h4 style="margin:0 0 6px">Steps (simple)</h4>
        <ol id="detailSteps" style="color:var(--muted);line-height:1.6"></ol>
      </div>

      <div style="margin-top:12px;display:flex;gap:8px">
        <button class="btn" id="markCompleteBtn">Mark Complete</button>
        <button class="btn ghost" id="evidenceBtn">Add Evidence (link / note)</button>
      </div>

      <div style="margin-top:10px;color:var(--muted);font-size:13px">Evidence (saved locally): <span id="evidenceList">—</span></div>
    </div>
    <div class="cf"></div>
  </div>
</div>

<script>
/* ---------------------------------------------
   Multi-screen app with floating orbs background
   Missions, report, reviews, contact — localStorage
   --------------------------------------------- */

// ---------- Floating Orbs Background ----------
const bgCanvas = document.getElementById('bg-orbs');
const bgCtx = bgCanvas.getContext('2d');
function resizeBg(){ bgCanvas.width = window.innerWidth; bgCanvas.height = window.innerHeight; }
window.addEventListener('resize', resizeBg);
resizeBg();

const ORB_COUNT = Math.max(8, Math.round(window.innerWidth / 140));
const orbs = [];
for(let i=0;i<ORB_COUNT;i++){
  orbs.push({
    x: Math.random()*bgCanvas.width,
    y: Math.random()*bgCanvas.height,
    r: 30 + Math.random()*80,
    vx: (Math.random()-0.5)*0.3,
    vy: (Math.random()-0.5)*0.3,
    hue: 140 + Math.random()*40,
    alpha: 0.04 + Math.random()*0.12
  });
}
function drawOrbs(){
  bgCtx.clearRect(0,0,bgCanvas.width,bgCanvas.height);
  orbs.forEach(o=>{
    o.x += o.vx; o.y += o.vy;
    if(o.x < -o.r) o.x = bgCanvas.width + o.r;
    if(o.x > bgCanvas.width + o.r) o.x = -o.r;
    if(o.y < -o.r) o.y = bgCanvas.height + o.r;
    if(o.y > bgCanvas.height + o.r) o.y = -o.r;
    const g = bgCtx.createRadialGradient(o.x,o.y,o.r*0.05,o.x,o.y,o.r);
    g.addColorStop(0, `hsla(${o.hue},70%,70%,${o.alpha*1.4})`);
    g.addColorStop(0.6, `hsla(${o.hue},65%,48%,${o.alpha})`);
    g.addColorStop(1, `hsla(${o.hue},60%,35%,0)`);
    bgCtx.fillStyle = g;
    bgCtx.beginPath();
    bgCtx.arc(o.x,o.y,o.r,0,Math.PI*2);
    bgCtx.fill();
  });
  requestAnimationFrame(drawOrbs);
}
requestAnimationFrame(drawOrbs);

// ---------- Confetti ----------
const confettiCanvas = document.getElementById('confetti');
const cctx = confettiCanvas.getContext('2d');
function resizeConf(){ confettiCanvas.width = window.innerWidth; confettiCanvas.height = window.innerHeight; }
window.addEventListener('resize', resizeConf);
resizeConf();

function celebrateConfetti(){
  confettiCanvas.style.display = 'block';
  const parts = [];
  for(let i=0;i<120;i++){
    parts.push({
      x: Math.random()*confettiCanvas.width,
      y: -20 - Math.random()*200,
      vx: (Math.random()-0.5)*6,
      vy: 2 + Math.random()*6,
      size: 6 + Math.random()*8,
      col: `hsl(${Math.random()*60+80},70%,45%)`,
      rot: Math.random()*360, vr: (Math.random()-0.5)*6
    });
  }
  let frames = 0;
  function run(){
    cctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
    parts.forEach(p=>{
      p.x += p.vx; p.y += p.vy; p.vy += 0.12; p.rot += p.vr;
      cctx.save();
      cctx.translate(p.x,p.y); cctx.rotate(p.rot*Math.PI/180);
      cctx.fillStyle = p.col; cctx.fillRect(-p.size/2,-p.size/2,p.size,p.size*0.6);
      cctx.restore();
    });
    frames++;
    if(frames < 160) requestAnimationFrame(run);
    else { cctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height); confettiCanvas.style.display = 'none'; }
  }
  requestAnimationFrame(run);
}

// ---------- Storage & Data ----------
const STORAGE_KEY = 'ecofuture_v1';
function loadState(){ try{ const raw = localStorage.getItem(STORAGE_KEY); if(!raw) return null; return JSON.parse(raw);}catch(e){return null} }
function saveState(s){ localStorage.setItem(STORAGE_KEY, JSON.stringify(s)); }
let state = loadState();
if(!state){
  // create default state
  state = { missions: [], completed: {}, evidence: {}, activity: [], reviews: [], contacts: [] };
  saveState(state);
}

/* ---------- Default missions (detailed content) ---------- */
const DEFAULT_MISSIONS = [
  {
    id: 'gen-solar-rooftop',
    title: 'Install a rooftop/mini solar demo',
    category: 'Generation',
    desc: 'Set up a small solar panel or a model rooftop panel. Explain orientation, tilt, and how sunlight is converted to electricity.',
    steps: [
      'Choose a sunny spot and mount the panel securely.',
      'Connect the panel to a small charge controller and battery (demo) or to a small load (lamp).',
      'Measure voltage/current if possible and take a photo of the setup.',
      'Note orientation and estimated daily energy output.'
    ],
    img: 'https://images.unsplash.com/photo-1509395062183-67c5ad6faff9?auto=format&fit=crop&w=1400&q=60'
  },
  {
    id: 'gen-wind-small',
    title: 'Build a small wind-turbine demo',
    category: 'Generation',
    desc: 'Assemble a small wind turbine model or show an existing wind installation nearby. Explain blades, generator, and how kinetic energy becomes electricity.',
    steps: [
      'Assemble blades and generator on a small model.',
      'Test in a breeze or use a fan to show electricity generation.',
      'Record a short video or photo and describe where wind energy suits your area.'
    ],
    img: 'https://images.unsplash.com/photo-1509395176047-4a66953fd231?auto=format&fit=crop&w=1400&q=60'
  },
  {
    id: 'gen-hydro-model',
    title: 'Hydropower model or explanation',
    category: 'Generation',
    desc: 'Create a small model showing water flow turning a turbine or make a poster explaining hydropower dams and run-of-river projects.',
    steps: ['Design a flow model or poster', 'Demonstrate or explain energy capture', 'Show safety and environmental considerations'],
    img: 'https://images.unsplash.com/photo-1504198453319-5ce911bafcde?auto=format&fit=crop&w=1400&q=60'
  },
  {
    id: 'store-battery-demo',
    title: 'Setup a battery storage demo',
    category: 'Storage',
    desc: 'Show how batteries store energy. Use small lithium-ion modules or a simple battery bank to demonstrate charging and discharging.',
    steps: ['Connect batteries to a charge controller', 'Show charge/discharge cycle', 'Explain safety and reuse/recycling measures'],
    img: 'https://images.unsplash.com/photo-1624537837759-8f92ec72f4d5?auto=format&fit=crop&w=1400&q=60'
  },
  {
    id: 'store-pumped-hydro',
    title: 'Explain pumped-hydro or hydrogen storage',
    category: 'Storage',
    desc: 'Create a poster or model that explains pumped-hydro storage or hydrogen storage — the concept and where it’s useful.',
    steps: ['Design poster or model', 'Explain energy in/energy out', 'List pros and cons'],
    img: 'https://images.unsplash.com/photo-1529333166437-7750a6dd5a70?auto=format&fit=crop&w=1400&q=60'
  },
  {
    id: 'trans-smartgrid',
    title: 'Design a smart-grid poster or demo',
    category: 'Transportation',
    desc: 'Create a visual explaining smart grids, demand-response, and how digital control improves efficiency.',
    steps: ['Draw grid diagram', 'Explain flow and smart meters', 'Suggest local improvements'],
    img: 'https://images.unsplash.com/photo-1611798740601-3d3b3885e6b0?auto=format&fit=crop&w=1400&q=60'
  },
  {
    id: 'trans-ev-demo',
    title: 'Demonstrate electric vehicle charging',
    category: 'Transportation',
    desc: 'Show an EV charging setup or explain the differences between fast and slow charging and the benefits of electric transport.',
    steps: ['Show charger and connector types', 'Explain charging times and infrastructure', 'Collect a photo / short note'],
    img: 'https://images.unsplash.com/photo-1611944212129-29977ae1398c?auto=format&fit=crop&w=1400&q=60'
  },
  {
    id: 'util-led-retrofit',
    title: 'Switch to LED & efficient appliances',
    category: 'Utilization',
    desc: 'Replace incandescent bulbs with LEDs in a room or propose efficient appliances for a home. Show before/after energy use if possible.',
    steps: ['List bulbs/appliances replaced', 'Measure or estimate savings', 'Share photos'],
    img: 'https://images.unsplash.com/photo-1606228281416-1d58e0a3c6a3?auto=format&fit=crop&w=1400&q=60'
  },
  {
    id: 'util-workshop',
    title: 'Host a community energy workshop',
    category: 'Utilization',
    desc: 'Organize a short workshop teaching energy-saving tips and renewable basics to neighbors or a class.',
    steps: ['Plan 20–30 minute session', 'Prepare slides/poster', 'Gather attendance photo'],
    img: 'https://images.unsplash.com/photo-1576765607924-bc3df37b42c4?auto=format&fit=crop&w=1400&q=60'
  },
  {
    id: 'bonus-battery-share',
    title: 'Community battery sharing pilot (proposal)',
    category: 'Bonus',
    desc: 'Design a small community battery sharing plan for a street or block — show costs, benefits, and simple governance.',
    steps: ['Map users and loads', 'Propose battery size and sharing rules', 'Create a short budget'],
    img: 'https://images.unsplash.com/photo-1581090700227-1e37b190418e?auto=format&fit=crop&w=1400&q=60'
  },
  {
    id: 'bonus-led-street',
    title: 'LED street retrofit proposal',
    category: 'Bonus',
    desc: 'Create a plan to retrofit a set of streetlights to LED: savings estimate, simple timeline, and stakeholder list.',
    steps: ['Survey current lights', 'Estimate savings', 'Draft short timeline'],
    img: 'https://images.unsplash.com/photo-1542223616-163d09a65372?auto=format&fit=crop&w=1400&q=60'
  }
];

// If no missions in state, load defaults
if(!state.missions || state.missions.length === 0){
  state.missions = DEFAULT_MISSIONS.slice();
  saveState(state);
}

// ---------- Page logic (screen navigation) ----------
const screens = ['home','missions','report','reviews','contact'];
let currentIndex = 0;
const navLinks = document.querySelectorAll('nav.main a');

function showScreen(name){
  // hide all
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  const el = document.getElementById('screen-' + name);
  if(el) el.classList.add('active');
  // update nav
  navLinks.forEach(a => a.classList.toggle('active', a.dataset.screen === name));
  // update page arrow target
  currentIndex = screens.indexOf(name);
  const nextIndex = (currentIndex + 1) % screens.length;
  document.getElementById('pageArrow').href = '#';
  document.getElementById('pageArrow').dataset.target = screens[nextIndex];
  // call screen init hooks
  if(name === 'missions') renderMissions();
  if(name === 'report') renderReport();
  if(name === 'reviews') renderReviewsList();
  // update progress pill
  updateProgressPill();
}
document.querySelectorAll('nav.main a').forEach(a=>{
  a.addEventListener('click', (ev)=>{
    ev.preventDefault();
    const sc = a.dataset.screen;
    showScreen(sc);
  });
});
document.querySelectorAll('[data-goto]').forEach(b=>{
  b.addEventListener('click',(ev)=>{ const g = ev.currentTarget.dataset.goto; showScreen(g); document.getElementById('screen-' + g).scrollIntoView({behavior:'smooth'}); });
});

// page arrow next behavior
document.getElementById('pageArrow').addEventListener('click',(ev)=>{
  ev.preventDefault();
  const target = ev.currentTarget.dataset.target || 'missions';
  showScreen(target);
  document.getElementById('screen-' + target).scrollIntoView({behavior:'smooth'});
});

// ---------- Missions rendering ----------
const missionsGrid = document.getElementById('missionsGrid');
const filterCategory = document.getElementById('filterCategory');

function populateCategoryFilter(){
  const cats = ['All', ...Array.from(new Set(state.missions.map(m=>m.category)))];
  filterCategory.innerHTML = cats.map(c => `<option value="${c}">${c}</option>`).join('');
}
populateCategoryFilter();

filterCategory.addEventListener('change', ()=> renderMissions());

document.getElementById('resetProgress').addEventListener('click', ()=>{
  if(confirm('Reset all completed missions?')) {
    state.completed = {};
    state.activity = [];
    saveState(state);
    renderMissions();
    renderReport();
    updateProgressPill();
  }
});

// mission detail overlay
const overlay = document.getElementById('overlay');
const detailTitle = document.getElementById('detailTitle');
const detailImg = document.getElementById('detailImg');
const detailCat = document.getElementById('detailCat');
const detailDesc = document.getElementById('detailDesc');
const detailSteps = document.getElementById('detailSteps');
const markCompleteBtn = document.getElementById('markCompleteBtn');
const evidenceBtn = document.getElementById('evidenceBtn');
const evidenceListEl = document.getElementById('evidenceList');
let currentMissionId = null;

document.getElementById('closeOverlay').addEventListener('click', ()=> { overlay.classList.remove('open'); });

function openMissionDetail(id){
  const m = state.missions.find(x=>x.id===id);
  if(!m) return;
  currentMissionId = id;
  detailTitle.textContent = m.title;
  detailImg.src = m.img;
  detailCat.textContent = m.category;
  detailDesc.textContent = m.desc;
  detailSteps.innerHTML = m.steps.map(s => `<li>${s}</li>`).join('');
  const evidences = state.evidence && state.evidence[id] ? state.evidence[id] : [];
  evidenceListEl.textContent = evidences.length ? evidences.join(' · ') : '—';
  overlay.classList.add('open');
}

// Mark complete handler
markCompleteBtn.addEventListener('click', ()=> {
  if(!currentMissionId) return;
  state.completed[currentMissionId] = true;
  state.activity = state.activity || [];
  state.activity.unshift({ts:Date.now(),id:currentMissionId,title: (state.missions.find(m=>m.id===currentMissionId)||{}).title, action:'completed'});
  saveState(state);
  renderMissions();
  renderReport();
  updateProgressPill();
  // celebration
  celebrateConfetti();
  // visual glow on detail
  markCompleteBtn.textContent = 'Completed ✓';
  setTimeout(()=>{ markCompleteBtn.textContent = 'Mark Complete'; }, 1400);
});

// evidence button
evidenceBtn.addEventListener('click', ()=> {
  if(!currentMissionId) return;
  const note = prompt('Add evidence link or short note (this will be saved locally):');
  if(note && note.trim()){
    state.evidence = state.evidence || {};
    state.evidence[currentMissionId] = state.evidence[currentMissionId] || [];
    state.evidence[currentMissionId].push(note.trim());
    state.activity = state.activity || [];
    state.activity.unshift({ts:Date.now(),id:currentMissionId,title:(state.missions.find(m=>m.id===currentMissionId)||{}).title,action:'evidence',note: note.trim()});
    saveState(state);
    evidenceListEl.textContent = state.evidence[currentMissionId].join(' · ');
    renderReport();
  }
});

// remove overlay if clicked outside detail
overlay.addEventListener('click', (e)=>{ if(e.target === overlay) overlay.classList.remove('open'); });

// render missions
function renderMissions(){
  const filter = filterCategory.value || 'All';
  missionsGrid.innerHTML = '';
  const list = state.missions.filter(m => filter === 'All' ? true : m.category === filter);
  // sort: Bonus last
  list.sort((a,b)=> (a.category==='Bonus') - (b.category==='Bonus'));
  list.forEach(m => {
    const done = !!(state.completed && state.completed[m.id]);
    const card = document.createElement('div');
    card.className = 'mission-card' + (done ? ' completed' : '');
    card.innerHTML = `
      <img src="${m.img}" loading="lazy" alt="${escapeHtml(m.title)}">
      <div class="mission-meta" style="margin-top:8px">
        <div style="flex:1">
          <div style="display:flex;gap:8px;align-items:center"><div class="tag">${m.category}</div></div>
          <h4 style="margin-top:8px">${escapeHtml(m.title)}</h4>
          <p>${escapeHtml(m.desc)}</p>
        </div>
      </div>
      <div class="mission-actions">
        <button class="btn" data-action="details" data-id="${m.id}">Details</button>
        <button class="btn ghost" data-action="toggle" data-id="${m.id}">${done ? 'Mark Uncomplete' : 'Mark Complete'}</button>
      </div>
      ${done ? '<div class="completed-badge">COMPLETED</div>' : ''}
    `;
    missionsGrid.appendChild(card);
  });
}

// mission grid click handlers
missionsGrid.addEventListener('click', (ev)=>{
  const btn = ev.target.closest('button');
  if(!btn) return;
  const id = btn.dataset.id;
  const act = btn.dataset.action;
  if(act === 'details') openMissionDetail(id);
  if(act === 'toggle'){
    // toggle
    if(state.completed && state.completed[id]){
      delete state.completed[id];
      state.activity = state.activity || [];
      state.activity.unshift({ts:Date.now(),id, title:(state.missions.find(m=>m.id===id)||{}).title, action:'uncomplete'});
    } else {
      state.completed = state.completed || {};
      state.completed[id] = true;
      state.activity = state.activity || [];
      state.activity.unshift({ts:Date.now(),id, title:(state.missions.find(m=>m.id===id)||{}).title, action:'completed'});
      celebrateConfetti();
    }
    saveState(state);
    renderMissions();
    renderReport();
    updateProgressPill();
  }
});

// create custom mission
document.getElementById('createCustom').addEventListener('click', ()=>{
  const title = document.getElementById('customTitle').value.trim();
  const img = document.getElementById('customImg').value.trim() || 'https://images.unsplash.com/photo-1509395062183-67c5ad6faff9?auto=format&fit=crop&w=1400&q=60';
  if(!title){ alert('Enter a mission title'); return; }
  const id = 'custom-' + Date.now();
  state.missions.push({id,title,category:'Custom',desc:'Custom mission added by the team',steps:['Complete the task','Capture evidence'],'img':img});
  saveState(state);
  document.getElementById('customTitle').value = '';
  document.getElementById('customImg').value = '';
  populateCategoryFilter();
  renderMissions();
});

// ---------- Report rendering ----------
function renderReport(){
  const total = state.missions.length;
  const done = Object.values(state.completed||{}).filter(Boolean).length;
  const pct = total ? Math.round((done/total)*100) : 0;
  document.getElementById('reportBar').style.width = pct + '%';
  document.getElementById('reportStats').textContent = `${done} / ${total} completed (${pct}%)`;
  // by category
  const byCat = document.getElementById('byCategory');
  byCat.innerHTML = '';
  const groups = {};
  state.missions.forEach(m => {
    groups[m.category] = groups[m.category] || {total:0,done:0};
    groups[m.category].total++;
    if(state.completed && state.completed[m.id]) groups[m.category].done++;
  });
  for(const cat in groups){
    const g = groups[cat];
    const el = document.createElement('div'); el.className = 'card';
    el.innerHTML = `<h3 style="margin:0">${escapeHtml(cat)}</h3><div style="color:var(--muted);margin-top:6px">${g.done} / ${g.total} completed</div><div class="progress-bar" style="margin-top:8px"><i style="width:${Math.round((g.done/g.total)*100)}%"></i></div>`;
    byCat.appendChild(el);
  }
  // recent activity
  const recent = document.getElementById('recentActivity'); recent.innerHTML = '';
  (state.activity || []).slice(0,40).forEach(act => {
    const row = document.createElement('div'); row.style.padding = '8px 0'; row.style.borderBottom = '1px dashed rgba(255,255,255,0.03)';
    const ts = new Date(act.ts); row.innerHTML = `<strong style="color:var(--accent-1)">${escapeHtml(act.title||act.id)}</strong><div style="color:var(--muted)">${escapeHtml(act.action || '')} ${act.note?('- ' + escapeHtml(act.note)) : ''}</div><div style="font-size:12px;color:rgba(255,255,255,0.35)">${ts.toLocaleString()}</div>`;
    recent.appendChild(row);
  });
}

// print / export
document.getElementById('printReport').addEventListener('click', ()=>window.print());
document.getElementById('exportJSON').addEventListener('click', ()=>{
  const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(state, null, 2));
  const a = document.createElement('a'); a.href = dataStr; a.download = 'ecofuture_report.json'; a.click();
});

// ---------- Reviews ----------
function renderReviewsList(){
  const list = document.getElementById('reviewsList'); list.innerHTML = '';
  (state.reviews || []).slice().reverse().forEach(r => {
    const el = document.createElement('div'); el.className = 'review-item';
    el.innerHTML = `<strong>${escapeHtml(r.name||'Anonymous')}</strong><div style="color:var(--muted);margin-top:6px">${escapeHtml(r.text)}</div><div style="font-size:12px;color:rgba(255,255,255,0.35);margin-top:8px">${new Date(r.ts).toLocaleString()}</div>`;
    list.appendChild(el);
  });
}
document.getElementById('submitReview').addEventListener('click', ()=>{
  const name = document.getElementById('rname').value.trim() || 'Anonymous';
  const text = document.getElementById('rtext').value.trim();
  if(!text){ alert('Write a short review'); return; }
  state.reviews = state.reviews || []; state.reviews.push({name,text,ts:Date.now()}); saveState(state);
  document.getElementById('rname').value=''; document.getElementById('rtext').value=''; renderReviewsList();
});
document.getElementById('clearReviews').addEventListener('click', ()=>{ if(confirm('Clear all reviews?')){ state.reviews = []; saveState(state); renderReviewsList(); } });

// ---------- Contact ----------
document.getElementById('contactSend').addEventListener('click', ()=>{
  const name = document.getElementById('cname').value.trim();
  const email = document.getElementById('cemail').value.trim();
  const msg = document.getElementById('cmsg').value.trim();
  if(!name || !email || !msg){ alert('Fill all fields'); return; }
  state.contacts = state.contacts || []; state.contacts.push({name,email,msg,ts:Date.now()}); saveState(state);
  document.getElementById('cname').value=''; document.getElementById('cemail').value=''; document.getElementById('cmsg').value='';
  alert('Message saved locally. Teachers can export the localStorage file for review.');
});
document.getElementById('clearContacts').addEventListener('click', ()=>{ if(confirm('Clear all local project data? This will reset missions & reviews.')){ localStorage.removeItem(STORAGE_KEY); location.reload(); } });

// ---------- Utilities ----------
function escapeHtml(s){ if(!s) return ''; return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;'); }

function updateProgressPill(){
  const total = state.missions.length || 0;
  const done = Object.values(state.completed||{}).filter(Boolean).length;
  document.getElementById('progress-pill').textContent = `${done} / ${total}`;
}

// ---------- Initial render ----------
renderMissions();
renderReport();
renderReviewsList();
updateProgressPill();

// show default screen
showScreen('home');

// ---------- small UX: keyboard to close overlay (Esc) ----------
window.addEventListener('keydown', (e)=>{ if(e.key === 'Escape'){ overlay.classList.remove('open'); } });

// ---------- Helpful: populate category filter on load ----------
populateCategoryFilter();

/* End of script */
</script>


</body></html>